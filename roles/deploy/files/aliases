#! /bin/bash

# ls variants
alias ls='ls --color=auto'
alias ll='ls -Alh'

# add colors to grep
alias grep='grep --color=auto'
alias egrep='egrep --color=auto'
alias fgrep='fgrep --color=auto'
alias rgrep='rgrep --color=auto'

# security aliases
alias rm='rm --preserve-root'
alias shred='shred -n 35 -z -u -v'

# Git with a self-signed certificate
alias gitc='git -c http.sslVerify=false'

# Movements to parent directories
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'

# History-related commands
alias h='history'
# This re-executes the last command, writes the output in a file descriptor, and opens it with vim,
# thanks to process substitution
# This syntax is compatible with both bash and zsh (unlike `fc -s`)
# See :
# - http://www.gnu.org/software/bash/manual/bashref.html#Bash-History-Builtins
# - http://zsh.sourceforge.net/Doc/Release/Shell-Builtin-Commands.html
# - https://www-s.acm.illinois.edu/workshops/zsh/history/fc.html
# - http://tldp.org/LDP/abs/html/process-sub.html
alias invim='vim <(fc -e true)'

# On RedHat family systems, use vimx if installed, to have access to clipboard from vim
if [ -x /usr/bin/vimx ]; then alias vim='/usr/bin/vimx'; fi

# alias to load screen config file
# TODO: do this through ansible
alias screen='screen -c $GLOBALRC/screenrc'

# sudo shell with environment
alias ssudo='sudo -sE'

# maj
if [ "$(which apt-get 2> /dev/null)" ]; then
  alias maj='sudo apt-get update && sudo apt-get dist-upgrade'
fi

# 10 biggest files/directories in current directory
alias topten='du -sk $(/bin/ls -A) | sort -rn | head -10'

# tree from current directory
alias tree="find . | sed 's/[^/]*\//|   /g;s/| *\([^| ]\)/+--- \1/'"

# Use sshrc by default
# We use an alias so that it doesn't get called when not directly typed by the user
alias ssh="sshrc"
if [ -x /usr/bin/mosh ]; then
  alias mosh="moshrc"
fi

# Docker aliases
alias stop_docker="docker ps | awk '{ print \$1 }' | grep -v '^CONTAINER' | xargs docker stop"

# Imperial march on buzzer
alias imperial-march="beep -l 350 -f 392 -D 100 --new -l 350 -f 392 -D 100 --new -l 350 -f 392 -D 100 --new -l 250 -f 311.1 -D 100 --new -l 25 -f 466.2 -D 100 --new -l 350 -f 392 -D 100 --new -l 250 -f 311.1 -D 100 --new -l 25 -f 466.2 -D 100 --new -l 700 -f 392 -D 100 --new -l 350 -f 587.32 -D 100 --new -l 350 -f 587.32 -D 100 --new -l 350 -f 587.32 -D 100 --new -l 250 -f 622.26 -D 100 --new -l 25 -f 466.2 -D 100 --new -l 350 -f 369.99 -D 100 --new -l 250 -f 311.1 -D 100 --new -l 25 -f 466.2 -D 100 --new -l 700 -f 392 -D 100 --new -l 350 -f 784 -D 100 --new -l 250 -f 392 -D 100 --new -l 25 -f 392 -D 100 --new -l 350 -f 784 -D 100 --new -l 250 -f 739.98 -D 100 --new -l 25 -f 698.46 -D 100 --new -l 25 -f 659.26 -D 100 --new -l 25 -f 622.26 -D 100 --new -l 50 -f 659.26 -D 400 --new -l 25 -f 415.3 -D 200 --new -l 350 -f 554.36 -D 100 --new -l 250 -f 523.25 -D 100 --new -l 25 -f 493.88 -D 100 --new -l 25 -f 466.16 -D 100 --new -l 25 -f 440 -D 100 --new -l 50 -f 466.16 -D 400 --new -l 25 -f 311.13 -D 200 --new -l 350 -f 369.99 -D 100 --new -l 250 -f 311.13 -D 100 --new -l 25 -f 392 -D 100 --new -l 350 -f 466.16 -D 100 --new -l 250 -f 392 -D 100 --new -l 25 -f 466.16 -D 100 --new -l 700 -f 587.32 -D 100 --new -l 350 -f 784 -D 100 --new -l 250 -f 392 -D 100 --new -l 25 -f 392 -D 100 --new -l 350 -f 784 -D 100 --new -l 250 -f 739.98 -D 100 --new -l 25 -f 698.46 -D 100 --new -l 25 -f 659.26 -D 100 --new -l 25 -f 622.26 -D 100 --new -l 50 -f 659.26 -D 400 --new -l 25 -f 415.3 -D 200 --new -l 350 -f 554.36 -D 100 --new -l 250 -f 523.25 -D 100 --new -l 25 -f 493.88 -D 100 --new -l 25 -f 466.16 -D 100 --new -l 25 -f 440 -D 100 --new -l 50 -f 466.16 -D 400 --new -l 25 -f 311.13 -D 200 --new -l 350 -f 392 -D 100 --new -l 250 -f 311.13 -D 100 --new -l 25 -f 466.16 -D 100 --new -l 300 -f 392.00 -D 150 --new -l 250 -f 311.13 -D 100 --new -l 25 -f 466.16 -D 100 --new -l 700 -f 392"

